ğŸ§¹ Cleaning up old files (for this session)...
PROGRESS:5
ğŸš€ Downloading full video for analysis...
PROGRESS:10
âœ… Full video downloaded: full_source_video.mp4
PROGRESS:20
ğŸ“¸ Generating source video thumbnail...
     ğŸ“¸ Generating source thumbnail...
     âœ… Source thumbnail generated successfully.
PROGRESS:22
ğŸ”Š Extracting full audio for transcription...
PROGRESS:25
PROGRESS:30
ğŸ§  Initializing AI Transcription Engine...
     ğŸ¤– AI Transcribing audio with Whisper...
PROGRESS:40
     âœ… AI Transcription complete.
ğŸ§  Initializing AI Content Analyzer...
ğŸ§  AI Analyzer running on: CPU
     ğŸ§  Initializing Emotion Analysis pipeline...
     âœ… Emotion pipeline ready.
     ğŸ§  Initializing Speaker Diarization pipeline...
     âŒ Speaker pipeline failed. Check Hugging Face token. Error: Token is required (`token=True`), but no token found. You need to provide a token or be logged in to Hugging Face with `huggingface-cli login` or `huggingface_hub.login`. See https://huggingface.co/settings/tokens.
     ğŸ§  Initializing Title/Description pipeline...
     âœ… Title/Description pipeline ready.
     ğŸ­ Scoring transcript for emotional content...
     âœ… Emotional scoring complete.
     ğŸ–¼ï¸ Creating vignette overlay...
     âœ… Identified 1 high-impact clips!
     âœ… Vignette created.

--- Processing Clip 1/1 (Score: 1.96) (Speaker: None) ---
     ğŸ”¥ Building optimized FFmpeg command...
     ğŸ¤– Optimizing face analysis (faster sampling)...
     âœ… Found 12 face tracking points.
     ğŸ¨ Generating 'Opus Green/White' caption images...
     ğŸ’¾ Executing FFmpeg and saving to clip_1_raw_output.mp4...
     âœ… Generated 37 caption images.
     ğŸ”¨ This render is optimized and should be faster...
     âœ… Successfully generated clip_1_raw_output.mp4
     ğŸ“¸ Generating video thumbnail at 3s...
     âœ… Thumbnail generated successfully.
     âœï¸ Generating AI title and description...
     âœ… AI Title: ""THAT THAT WAS REALLY HAPPENING. SO YOU TO READ YOUR"
     âœ… Renamed file to: clip_1_THAT THAT WAS REALLY HAPPENING. SO.mp4
PROGRESS:100

âœ… All clips generated successfully!
PROGRESS:100
--- Processing pipeline finished ---
PROCESSING_ERROR: UPDATE statement on table 'video_process' expected to update 1 row(s); 0 were matched.
Traceback (most recent call last):
  File "C:\clippervd\app.py", line 344, in run_clipping_pipeline
    db.session.commit()
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\scoping.py", line 599, in commit
    return self._proxied.commit()
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "c:\Users\alasa\AppData\Local\Programs\Python\Python310\lib\site-packages\sqlalchemy\orm\persistence.py", line 948, in _emit_update_statements
    raise orm_exc.StaleDataError(
sqlalchemy.orm.exc.StaleDataError: UPDATE statement on table 'video_process' expected to update 1 row(s); 0 were matched.

